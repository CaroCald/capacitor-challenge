{"version":3,"file":"src_app_auth_auth_module_ts.js","mappings":"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","sources":["./src/app/auth/auth-routing.module.ts","./src/app/auth/auth.module.ts","./src/app/auth/pages/layout-page/layout-page.component.ts","./src/app/auth/pages/layout-page/layout-page.component.html","./src/app/auth/pages/login-page/login-page.component.ts","./src/app/auth/pages/login-page/login-page.component.html","./src/app/auth/pages/register-page/register-page.component.ts","./src/app/auth/pages/register-page/register-page.component.html","./node_modules/@capacitor/geolocation/dist/esm/index.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LayoutPageComponent } from './pages/layout-page/layout-page.component';\nimport { LoginPageComponent } from './pages/login-page/login-page.component';\nimport { RegisterPageComponent } from './pages/register-page/register-page.component';\n\n// localhost:4200/auth/\nconst routes: Routes = [\n  {\n    path: '',\n    component: LayoutPageComponent,\n    children: [\n      { path: 'login', component: LoginPageComponent },\n      { path: 'new-account', component: RegisterPageComponent },\n      { path: '**', redirectTo: 'login' },\n    ]\n  }\n];\n\n\n\n\n@NgModule({\n  imports: [ RouterModule.forChild( routes ) ],\n  exports: [ RouterModule ],\n})\nexport class AuthRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { MaterialModule } from '../material/material.module';\n\nimport { LayoutPageComponent } from './pages/layout-page/layout-page.component';\nimport { LoginPageComponent } from './pages/login-page/login-page.component';\nimport { RegisterPageComponent } from './pages/register-page/register-page.component';\n\n\n\n@NgModule({\n  declarations: [\n    LayoutPageComponent,\n    LoginPageComponent,\n    RegisterPageComponent\n  ],\n  imports: [\n    CommonModule,\n    AuthRoutingModule,\n    MaterialModule,\n  ]\n})\nexport class AuthModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-layout-page',\n  templateUrl: './layout-page.component.html',\n  styles: [\n  ]\n})\nexport class LayoutPageComponent {\n\n}\n","\n\n<div class=\"grid p-3\">\n  <div class=\"col-12 mt-5 md:col-6 md:col-offset-3 md:mt-8\">\n\n    <router-outlet></router-outlet>\n\n  </div>\n</div>\n\n","import { Component } from '@angular/core';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\nimport { Geolocation } from '@capacitor/geolocation';\nimport { Capacitor } from '@capacitor/core';\nimport { Toast } from '@capacitor/toast';\n\n@Component({\n  selector: 'app-login-page',\n  templateUrl: './login-page.component.html',\n  styles: [\n  ]\n})\nexport class LoginPageComponent {\n\n  constructor(\n    private authService: AuthService,\n    private router: Router\n  ){}\n\n  onLogin(): void {\n\n    this.authService.login('fernando@gmail.com','123456')\n      .subscribe( user => {\n        this.checkPermissions()\n        this.router.navigate(['/']);\n\n      });\n\n  }\n\n  async checkLocation(){\n    const coordinates = await Geolocation.getCurrentPosition();\n    console.log('Current position: ', coordinates);\n  }\n  \n\n  // 2. Added geolocation\n   async checkPermissions(){\n    if (Capacitor.isNativePlatform()) {\n      const permission = await Geolocation.requestPermissions()\n\n      if(permission){\n        if( permission.coarseLocation == 'granted' && permission.location == 'granted'){\n          this.checkLocation()\n        } else if (permission.coarseLocation == 'denied' && permission.location == 'denied'){\n          this.showToast(\"User Deny Location Access Permission\")\n        }else{\n          this.showToast(\"User Deny Location Access Permission\")\n        }\n      }else{\n        this.showToast(\"User Deny Location Access Permission\")\n      }\n    }else{\n      this.checkLocation()\n    }\n   \n  }\n\n  async showToast(message: string){\n    await Toast.show({\n    text: message,\n    duration: 'long'\n  });\n  }\n}\n","\n<div class=\"flex flex-column\">\n\n  <span class=\"text-lg mb-4\">Login</span>\n\n  <mat-form-field>\n    <mat-label>Usuario</mat-label>\n    <input type=\"text\" matInput placeholder=\"Nombre de usuario\">\n  </mat-form-field>\n\n  <mat-form-field>\n    <mat-label>Contraseña</mat-label>\n    <input type=\"password\" matInput placeholder=\"Contraseña\">\n  </mat-form-field>\n\n  <button mat-button mat-flat-button color=\"primary\"\n    (click)=\"onLogin()\">\n    <mat-icon>save</mat-icon>\n    Ingresar\n  </button>\n\n\n  <div class=\"flex justify-content-end mt-5\">\n    <a routerLink=\"/auth/new-account\">¿Ya tienes cuenta?</a>\n  </div>\n\n</div>\n\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-register-page',\n  templateUrl: './register-page.component.html',\n  styles: [\n  ]\n})\nexport class RegisterPageComponent {\n\n}\n","\n<div class=\"flex flex-column\">\n\n  <span class=\"text-lg mb-4\">Registro</span>\n\n  <mat-form-field>\n    <mat-label>Usuario</mat-label>\n    <input type=\"text\" matInput placeholder=\"Nombre de usuario\">\n  </mat-form-field>\n\n  <mat-form-field>\n    <mat-label>Nombre</mat-label>\n    <input type=\"text\" matInput placeholder=\"Nombre de usuario\">\n  </mat-form-field>\n\n  <mat-form-field>\n    <mat-label>Contraseña</mat-label>\n    <input type=\"password\" matInput placeholder=\"Contraseña\">\n  </mat-form-field>\n\n  <button mat-button mat-flat-button color=\"primary\">\n    <mat-icon>save</mat-icon>\n    Crear cuenta\n  </button>\n\n\n  <div class=\"flex justify-content-end mt-5\">\n    <a routerLink=\"/auth/login\">¿No tienes cuenta?</a>\n  </div>\n\n</div>\n\n","import { registerPlugin } from '@capacitor/core';\nconst Geolocation = registerPlugin('Geolocation', {\n    web: () => import('./web').then(m => new m.GeolocationWeb()),\n});\nexport * from './definitions';\nexport { Geolocation };\n"],"names":["RouterModule","LayoutPageComponent","LoginPageComponent","RegisterPageComponent","routes","path","component","children","redirectTo","AuthRoutingModule","forChild","imports","exports","CommonModule","MaterialModule","AuthModule","declarations","selectors","decls","vars","consts","template","i0","Geolocation","Capacitor","Toast","constructor","authService","router","onLogin","login","subscribe","user","checkPermissions","navigate","checkLocation","coordinates","getCurrentPosition","console","log","isNativePlatform","permission","requestPermissions","coarseLocation","location","showToast","message","show","text","duration","ctx","registerPlugin","web","then","m","GeolocationWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[8]}